(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8babdf5e"],{
/***/"2a48":
/***/function(e,t,r){"use strict";
/* unused harmony export videoCodec */
/* unused harmony export videoRecviver */
/* harmony export (binding) */r.d(t,"k",(function(){return s})),
/* harmony export (binding) */r.d(t,"f",(function(){return c})),
/* harmony export (binding) */r.d(t,"g",(function(){return l})),
/* harmony export (binding) */r.d(t,"e",(function(){return m})),
/* harmony export (binding) */r.d(t,"i",(function(){return b})),
/* harmony export (binding) */r.d(t,"h",(function(){return g})),
/* harmony export (binding) */r.d(t,"j",(function(){return O})),
/* harmony export (binding) */r.d(t,"d",(function(){return w})),
/* harmony export (binding) */r.d(t,"c",(function(){return S})),
/* harmony export (binding) */r.d(t,"b",(function(){return R})),
/* harmony export (binding) */r.d(t,"a",(function(){return j}));
/* harmony import */var o=r("c7eb"),n=r("1da1"),i=r("7424"),a=r("b775");
/* harmony import */function s(e){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.VIDEOLIST,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return(u=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.HISTORYVIDEOLIST,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.SNAPHISTORYIMAGESLIST,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.HISTORYIMAGESLIST,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.VIDEODEL,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.VIDEOADD,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return V.apply(this,arguments)}function V(){return(V=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.VIDEOEDIT,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return I.apply(this,arguments)}function I(){return(I=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.GETVIDEOSTATUS,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return y.apply(this,arguments)}function y(){return(y=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.SETVIDEOSTOPORSTART,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return T.apply(this,arguments)}function T(){return(T=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.PTZCONTROL,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return $.apply(this,arguments)}function $(){return($=Object(n.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.g)(i.GETMONIBUCA,a.b.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
/* unused harmony default export */},
/***/"553f":
/***/function(e,t,r){"use strict";
/* harmony import */r("87d8");
/* harmony import */},
/***/"87d8":
/***/function(e,t,r){
// extracted by mini-css-extract-plugin
/***/},
/***/"91b8":
/***/function(e,t,r){"use strict";
// ESM COMPAT FLAG
r.r(t);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"3d1bfd38-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/video/videoManager.vue?vue&type=template&id=3cc00772&scoped=true
var o=r("5530"),n=(r("14d9"),r("d3b7"),r("25f0"),r("2a48")),i=r("2f62"),a={name:"VideoManager",i18n:r("89fe"),components:{},data:function(){return{editVisible:!1,AddForm:this.$form.createForm(this),EditForm:this.$form.createForm(this),radioValue:1,visible:!1,addVisible:!1,messageShowLoad:!1,videoList:[],editUuid:"",IsRecord:!1,columns:[{width:"10%",slotName:"configComponent.video.TableVideoName",scopedSlots:{customRender:"Name",title:"configComponent.video.TableVideoName"},dataIndex:"Name"},{slotName:"configComponent.video.TableVideoIP",width:"10%",scopedSlots:{customRender:"IP",title:"configComponent.video.TableVideoIP"},dataIndex:"ip"},{slotName:"configComponent.video.TableVideoPort",width:"5%",scopedSlots:{customRender:"Port",title:"configComponent.video.TableVideoPort"},dataIndex:"port"},{slotName:"configComponent.video.TableVideoUser",width:"10%",scopedSlots:{customRender:"User",title:"configComponent.video.TableVideoUser"},dataIndex:"user"},{slotName:"configComponent.video.TableVideoPassword",width:"10%",scopedSlots:{customRender:"Password",title:"configComponent.video.TableVideoPassword"},dataIndex:"password"},{slotName:"configComponent.video.TableVideoStatus",width:"5%",scopedSlots:{customRender:"Status",title:"configComponent.video.TableVideoStatus"},dataIndex:"status"},{slotName:"configComponent.video.TableVideoOpt",width:"10%",scopedSlots:{customRender:"Opt",title:"configComponent.video.TableVideoOpt"}}],pagination:{pageSize:15,showSizeChanger:!0}}},computed:Object(o.a)({},Object(i.e)("setting",["videoServer"])),authorize:{},mounted:function(){this.getSystemVideoList()},activated:function(){},created:function(){},watch:{},methods:{goToEdit:function(e){this.editUuid=e.uuid;var t=this;this.editVisible=!0,this.IsRecord=e.IsRecord,this.$message.loading(this.$t("monitor.loading"),.5),setTimeout((function(){t.EditForm.setFieldsValue({name:e.Name,ip:e.ip,port:e.port.toString(),user:e.user,password:e.password,RtspUrl:e.url,RecordInter:e.RecordInter.toString()})}),500)},editVideoAction:function(){var e=this,t=this;this.EditForm.validateFields((function(r){if(!r){var o={uuid:t.editUuid,data:{name:e.EditForm.getFieldValue("name"),ip:e.EditForm.getFieldValue("ip"),port:parseInt(e.EditForm.getFieldValue("port")),user:e.EditForm.getFieldValue("user"),password:e.EditForm.getFieldValue("password"),StreamURL:e.EditForm.getFieldValue("RtspUrl"),IsRecord:e.EditForm.getFieldValue("IsRecord")?1:2,RecordInter:parseInt(e.EditForm.getFieldValue("RecordInter"))}};Object(n.j)(o).then((function(e){0==e.data.code?(t.getSystemVideoList(),t.$message.success(t.$t("alarm.trigger.EditSuccess")),t.editVisible=!1):t.$message.success(t.$t("VideoManager.EditFailed"))}))}}))},AddVideoAction:function(){var e=this,t=this;this.AddForm.validateFields((function(r){if(!r){var o={name:e.AddForm.getFieldValue("name"),ip:e.AddForm.getFieldValue("ip"),port:parseInt(e.AddForm.getFieldValue("port")),user:e.AddForm.getFieldValue("user"),password:e.AddForm.getFieldValue("password"),url:e.AddForm.getFieldValue("RtspUrl"),IsRecord:e.AddForm.getFieldValue("IsRecord")?1:2,RecordInter:parseInt(e.AddForm.getFieldValue("RecordInter"))};Object(n.h)(o).then((function(e){0==e.data.code?(t.getSystemVideoList(),t.addVisible=!1):t.$message.success(t.$t("alarm.trigger.AddFailed"))}))}}))},getSystemVideoList:function(){var e=this;e.messageShowLoad=!0,e.videoList=[],Object(n.k)().then((function(t){if(null!=t.data.list)for(var r={},o=0;o<t.data.list.length;o++)r.key=t.data.list[o].Uuid,r.ip=t.data.list[o].Ip,r.Name=t.data.list[o].Name,r.port=t.data.list[o].Port,r.password=t.data.list[o].Password,r.user=t.data.list[o].User,r.status=t.data.list[o].Status,r.uuid=t.data.list[o].Uuid,r.url=t.data.list[o].StreamURL,r.isUsed=t.data.list[o].IsUsed,r.uuid=t.data.list[o].Uuid,r.IsRecord=1==t.data.list[o].IsRecord,r.RecordInter=t.data.list[o].RecordInter,e.videoList.push(r),r={};e.messageShowLoad=!1})).catch((function(t){e.messageShowLoad=!1}))},showModal:function(){this.visible=!0},selectVideo:function(e,t,r){var o="";o=1==e?"webrtc://"+this.videoServer+"/webrtcstream/"+t:t,this.$emit("onSelectVideo",{type:e,key:t,url:o,name:r}),this.visible=!1},delVideo:function(e){var t=this,r={uuid:e};Object(n.i)(r).then((function(e){0==e.data.code?(t.getSystemVideoList(),t.$message.success(t.$t("component.systemImageModel.delImageSuccess"))):t.$message.error(t.$t("component.systemImageModel.delImageFailed"))}))},StopOrStartVideo:function(e,t){var r=this,o={uuid:t,data:{IsUsed:e}};Object(n.c)(o).then((function(e){0==e.data.code?(r.getSystemVideoList(),r.$message.success(r.$t("monitor.OptResultSuccess"))):r.$message.success(r.$t("monitor.OptResultFailed"))}))},handleCancel:function(){this.visible=!1}}},s=(r("553f"),r("2877")),d=Object(s.a)(a,(function(){var e=this,t=e._self._c;return t("a-card",[t("a-button",{attrs:{type:"primary"},on:{click:function(t){e.addVisible=!0}}},[e._v(" "+e._s(e.$t("configComponent.video.AddVideo"))+" ")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-button",{attrs:{disabled:e.messageShowLoad,type:"default"},on:{click:function(t){return e.getSystemVideoList()}}},[e._v(" "+e._s(e.$t("configComponent.video.VideoRefresh"))+" ")]),t("div",{staticStyle:{"margin-top":"5px"}},[t("a-table",{attrs:{rowKey:"Name",pagination:e.pagination,columns:e.columns,"data-source":e.videoList},scopedSlots:e._u([{key:"Status",fn:function(r){return t("span",{},[1==r?t("div",{staticStyle:{color:"#74f808"}},[e._v(" "+e._s(e.$t("configComponent.video.VideoOnline"))+" ")]):0==r?t("div",{staticStyle:{color:"#ea1111"}},[e._v(" "+e._s(e.$t("configComponent.video.VideoOffline"))+" ")]):e._e()])}},{key:"Opt",fn:function(r,o){return t("div",{},[t("a",{staticStyle:{cursor:"pointer",color:"#13C2C2"},attrs:{type:"link"},on:{click:function(t){return e.goToEdit(o)}}},[t("a-icon",{attrs:{type:"edit"}}),t("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(e.$t("monitor.nodeEdit")))])],1),e._v(" | "),t("a-popconfirm",{attrs:{title:e.$t("configComponent.video.DelVideoConfirm"),"ok-text":e.$t("component.systemImageModel.delImageYes"),"cancel-text":e.$t("component.systemImageModel.delImageNo")},on:{confirm:function(t){return e.delVideo(o.uuid)}}},[t("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),t("a-icon",{attrs:{type:"delete",theme:"twoTone","two-tone-color":"#eb2f96"}}),t("a",{staticStyle:{color:"#eb2f96"}},[e._v(e._s(e.$t("configComponent.video.DelVideo")))]),e._v(" | ")],1),o.isUsed?e._e():t("a-popconfirm",{attrs:{title:e.$t("monitor.NotUseTips"),"ok-text":e.$t("component.systemImageModel.delImageYes"),"cancel-text":e.$t("component.systemImageModel.delImageNo")},on:{confirm:function(t){return e.StopOrStartVideo(1,o.uuid)}}},[t("a",{staticStyle:{cursor:"pointer",color:"#F4A460"},attrs:{type:"link"}},[t("a-icon",{attrs:{type:"stop"}}),t("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(e.$t("monitor.NotUse")))])],1)]),o.isUsed?t("a",{staticStyle:{cursor:"pointer",color:"#00FF00"},attrs:{type:"link"},on:{click:function(t){return e.StopOrStartVideo(0,o.uuid)}}},[t("a-icon",{attrs:{type:"play-circle"}}),t("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(e.$t("monitor.HadUse")))])],1):e._e()],1)}}])},[e._l(e.columns,(function(r,o){return t("template",{slot:r.slotName},[t("span",{key:o},[e._v(e._s(e.$t(r.slotName)))])])}))],2)],1),t("a-modal",{attrs:{title:e.$t("configComponent.video.AddVideo")},on:{ok:e.AddVideoAction},model:{value:e.addVisible,callback:function(t){e.addVisible=t},expression:"addVisible"}},[t("a-form",{attrs:{form:e.AddForm,"label-col":{span:7},"wrapper-col":{span:12}}},[t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoName")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0}]}],expression:"[\n              'name',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoIP")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ip",{rules:[{required:!0}]}],expression:"[\n              'ip',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoPort")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["port",{rules:[{required:!0}]}],expression:"[\n              'port',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.RtspUrl")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["RtspUrl",{rules:[{required:!0}]}],expression:"[\n              'RtspUrl',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoUser")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user",{rules:[{required:!1}]}],expression:"[\n              'user',\n              { rules: [{ required: false}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoPassword")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!1}]}],expression:"[\n              'password',\n              { rules: [{ required: false}] },\n            ]"}],attrs:{type:"password"}})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.IsRecord")}},[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["IsRecord",{rules:[{required:!1}]}],expression:"[\n              'IsRecord',\n              { rules: [{ required: false}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.RecordInter")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["RecordInter",{rules:[{required:!1}]}],expression:"[\n              'RecordInter',\n              { rules: [{ required: false}] },\n            ]"}]})],1)],1)],1),t("a-modal",{attrs:{title:e.$t("configComponent.video.AddVideo")},on:{ok:e.editVideoAction},model:{value:e.editVisible,callback:function(t){e.editVisible=t},expression:"editVisible"}},[t("a-form",{attrs:{form:e.EditForm,"label-col":{span:7},"wrapper-col":{span:12}}},[t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoName")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0}]}],expression:"[\n              'name',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoIP")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ip",{rules:[{required:!0}]}],expression:"[\n              'ip',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoPort")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["port",{rules:[{required:!0}]}],expression:"[\n              'port',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.RtspUrl")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["RtspUrl",{rules:[{required:!0}]}],expression:"[\n              'RtspUrl',\n              { rules: [{ required: true}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoUser")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user",{rules:[{required:!1}]}],expression:"[\n              'user',\n              { rules: [{ required: false}] },\n            ]"}]})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.TableVideoPassword")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!1}]}],expression:"[\n              'password',\n              { rules: [{ required: false}] },\n            ]"}],attrs:{type:"password"}})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.IsRecord")}},[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["IsRecord",{rules:[{required:!1}]}],expression:"[\n              'IsRecord',\n              { rules: [{ required: false}] },\n            ]"}],model:{value:e.IsRecord,callback:function(t){e.IsRecord=t},expression:"IsRecord"}})],1),t("a-form-item",{attrs:{label:e.$t("configComponent.video.RecordInter")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["RecordInter",{rules:[{required:!1}]}],expression:"[\n              'RecordInter',\n              { rules: [{ required: false}] },\n            ]"}]})],1)],1)],1)],1)}),[],!1,null,"3cc00772",null)
/* harmony default export */;t.default=d.exports}}]);