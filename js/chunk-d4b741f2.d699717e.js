(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d4b741f2"],{"72d4":function(e,t,s){"use strict";s("860d")},"7aba":function(e,t,s){"use strict";s.r(t);var a=s("f3f3"),r=(s("d3b7"),s("93d6")),i=s("1d40"),n=s("8237"),o=s.n(n),c=s("2f62"),d={name:"UserAdd",i18n:s("89fe"),data:function(){return{RoleList:[],EditForm:this.$form.createForm(this),messageShowLoad:!1,preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]}}},created:function(){this.SystemRolesList()},computed:Object(a.a)({},Object(c.e)("setting",["isMobile","systemName"])),methods:{SystemRolesList:function(){var e=this;e.RoleList=[],this.messageShowLoad=!0,Object(i.v)().then((function(t){0==t.data.code&&(e.RoleList=t.data.list)})).finally((function(t){e.messageShowLoad=!1}))},AddUser:function(){var e=this,t=this;this.EditForm.validateFields((function(s){if(!s){var a={Username:e.EditForm.getFieldValue("UserName"),password:o()(e.EditForm.getFieldValue("NewPassword")),name:e.EditForm.getFieldValue("name"),phone:e.EditForm.getFieldValue("phone"),email:e.EditForm.getFieldValue("email"),job:e.EditForm.getFieldValue("job"),profile:e.EditForm.getFieldValue("profile"),role:e.EditForm.getFieldValue("Role")};t.messageShowLoad=!0,Object(r.a)(a).then((function(e){200==e.data.code?(t.$message.success(t.$t("account.settings.UserAdd.AddSuccess")),t.$router.push("/Setting/UserManager")):1009==e.data.code?t.$message.error(t.$t("account.settings.UserAdd.AddUserExist")):t.$message.error(t.$t("account.settings.UserAdd.AddFailed"))})).catch((function(e){t.messageShowLoad=!1,t.$message.error(t.$t("account.settings.UserAdd.AddFailed"))})).finally((function(e){t.messageShowLoad=!1}))}}))},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t},compareToFirstPassword:function(e,t,s){var a=this.EditForm;t&&t!==a.getFieldValue("NewPassword")?s(this.$t("account.settings.security.PasswordNotSame")):s()},validateToNextPassword:function(e,t,s){var a=this.EditForm;t&&this.confirmDirty&&a.validateFields(["ConfirmPassword"],{force:!0}),s()},Back:function(){this.$router.push("/Setting/UserManager")}}},u=(s("72d4"),s("2877")),l=Object(u.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-spin",{staticStyle:{padding:"1px"},attrs:{spinning:e.messageShowLoad,tip:"Loading..."}},[s("div",{staticClass:"account-settings-info-view"},[s("a-row",{attrs:{gutter:16,type:"flex",justify:"center"}},[s("a-col",{attrs:{order:e.isMobile?2:1,md:24,lg:16}},[s("a-card",[s("a-form",{attrs:{form:e.EditForm,layout:"vertical"}},[s("a-form-item",{attrs:{label:e.$t("account.settings.basic.UserName")}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["UserName",{rules:[{required:!0,message:e.$t("account.settings.basic.UserName-message")}]}],expression:"[\n                'UserName',\n                {\n                  rules: [{ required: true, message: $t('account.settings.basic.UserName-message') }],\n                },\n              ]"}],attrs:{placeholder:e.$t("account.settings.basic.name-message")}})],1),s("a-form-item",{attrs:{label:e.$t("account.settings.basic.Role")}},[s("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["Role",{rules:[{required:!0,message:e.$t("account.settings.basic.Role"),whitespace:!0}]}],expression:"['Role', {rules: [{ required: true, message: $t('account.settings.basic.Role'), whitespace: true}]}]"}]},e._l(e.RoleList,(function(t){return s("a-select-option",{key:t.RoleId,attrs:{value:t.RoleId}},["Operator"==t.RoleId?s("span",[e._v(e._s(e.$t("account.settings.UserList.RoleOperator")))]):e._e(),"User"==t.RoleId?s("span",[e._v(e._s(e.$t("account.settings.UserList.RoleUser")))]):e._e()])})),1)],1),s("a-form-item",{attrs:{label:e.$t("account.settings.security.NewPassword")}},[s("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["NewPassword",{rules:[{required:!0,message:e.$t("account.settings.security.NewPassword")},{min:8,message:e.$t("account.settings.security.password-description")},{validator:e.validateToNextPassword}]}],expression:"[\n        'NewPassword',\n        {\n          rules: [\n            {\n              required: true,\n              message: $t('account.settings.security.NewPassword'),\n            },\n            {\n              min: 8,\n              message: $t('account.settings.security.password-description'),\n            },\n            {\n              validator: validateToNextPassword,\n            },\n          ],\n        },\n      ]"}],attrs:{placeholder:e.$t("account.settings.security.NewPassword")}})],1),s("a-form-item",{attrs:{label:e.$t("account.settings.security.ConfirmNewPassword")}},[s("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["ConfirmPassword",{rules:[{required:!0,message:e.$t("account.settings.security.ConfirmNewPassword-description")},{min:8,message:e.$t("account.settings.security.password-description")},{validator:e.compareToFirstPassword}]}],expression:"[\n        'ConfirmPassword',\n        {\n          rules: [\n            {\n              required: true,\n              message: $t('account.settings.security.ConfirmNewPassword-description'),\n            },\n            {\n              min: 8,\n              message: $t('account.settings.security.password-description'),\n            },\n            {\n              validator: compareToFirstPassword,\n            },\n          ],\n        },\n      ]"}],attrs:{type:"password",placeholder:e.$t("account.settings.security.ConfirmNewPassword")},on:{blur:e.handleConfirmBlur}})],1),s("a-form-item",{attrs:{label:e.$t("account.settings.basic.name")}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:e.$t("account.settings.basic.name-message")}]}],expression:"[\n                'name',\n                {\n                  rules: [{ required: true, message: $t('account.settings.basic.name-message') }],\n                },\n              ]"}],attrs:{placeholder:e.$t("account.settings.basic.name-message")}})],1),s("a-form-item",{attrs:{label:e.$t("account.settings.basic.position")}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["job",{rules:[{required:!0,message:e.$t("account.settings.basic.position-message")}]}],expression:"[\n                'job',\n                {\n                  rules: [{ required: true, message: $t('account.settings.basic.position-message') }],\n                },\n              ]"}],attrs:{placeholder:e.$t("account.settings.basic.position-message")}})],1),s("a-form-item",{attrs:{label:e.$t("account.settings.basic.phone")}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:e.$t("account.settings.basic.phone-message")}]}],expression:"[\n                'phone',\n                {\n                  rules: [{ required: true, message: $t('account.settings.basic.phone-message') }],\n                },\n              ]"}],attrs:{placeholder:e.$t("account.settings.basic.phone-message")}})],1),s("a-form-item",{attrs:{label:e.$t("account.settings.basic.email")}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:e.$t("account.settings.basic.email-message")},{type:"email",message:e.$t("account.settings.basic.email-invalid")}]}],expression:"[\n                'email',\n                {\n                  rules: [\n                      { required: true, message: $t('account.settings.basic.email-message') },\n                      {\n                        type: 'email',\n                        message:  $t('account.settings.basic.email-invalid'),\n                      },\n\n                      ],\n                },\n              ]"}],attrs:{placeholder:"example@ism.com"}})],1),s("a-form-item",{attrs:{label:e.$t("account.settings.basic.profile")}},[s("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["profile",{rules:[{required:!0,message:e.$t("account.settings.basic.profile-message")}]}],expression:"[\n                'profile',\n                {\n                  rules: [{ required: true, message: $t('account.settings.basic.profile-message') }],\n                },\n              ]"}],attrs:{rows:"4",placeholder:e.$t("account.settings.basic.profile-message")}})],1),s("a-form-item",[s("a-button",{attrs:{type:"primary"},on:{click:e.AddUser}},[e._v(e._s(e.$t("account.settings.UserAdd.AddBtn")))]),s("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default"},on:{click:e.Back}},[e._v(e._s(e.$t("dataModel.back")))])],1)],1)],1)],1)],1)],1)])}),[],!1,null,"7f331908",null);t.default=l.exports},"860d":function(e,t,s){}}]);