(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2c56a2c2"],{
/***/6931:
/***/function(e,t,i){
// extracted by mini-css-extract-plugin
/***/},
/***/a03d:
/***/function(e,t,i){"use strict";
// ESM COMPAT FLAG
i.r(t);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"3d1bfd38-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/video/videoShowMore.vue?vue&type=template&id=028d9ba5&scoped=true
var n=i("5530"),o=(i("99af"),i("14d9"),i("b0c0"),i("3f2c")),s=i.n(o),l=i("dc3d"),r=i("2f62"),d={name:"VideoManager",i18n:i("89fe"),components:{LivePlayer:s.a,systemVideoModel:l.a},provide:function(){return{videoDiv:this}},data:function(){return{id:"".concat((new Date).getTime(),"-").concat(Math.floor(10*Math.random())),fullScreen:!1,windowWidth:document.documentElement.clientWidth,
//实时屏幕宽度
windowHeight:document.documentElement.clientHeight,
//实时屏幕高度
videoComponentData:{},gridShow:{gutter:0,column:1},VideoTitle:"",selectIndex:0,videoStyle:{height:"300px",width:"auto"},videoType:1,video_url:"",temp_video_url:"",messageShowLoad:!1,width:600,height:600,videoPlayerList:[],base:{text:"configComponent.video.Text",icon:"icon-shipinjiankong",isFontIcon:!0,info:{type:"image",action:[],dataBind:[],style:{position:{x:0,y:0,w:200,h:200},visible:1,backColor:"transparent",zIndex:-1,transform:0,diy:[{name:"configComponent.video.Token",type:8,value:{type:1,key:""},key:"token"}]}}}}},authorize:{},computed:Object(n.a)({},Object(r.e)("setting",["videoServer"])),mounted:function(){this.getSystemVideoList(1);var e=this;
// <!--把window.onresize事件挂在到mounted函数上-->
window.onresize=function(){return window.fullHeight=document.documentElement.clientHeight,window.fullWidth=document.documentElement.clientWidth,e.windowHeight=window.fullHeight,// 高
e.windowWidth=window.fullWidth,void(// 宽
e.videoStyle.height=e.windowHeight+"px")}},activated:function(){},created:function(){this.addListener(),this.videoStyle.height=document.documentElement.clientHeight+"px"},beforeDestroy:function(){this.removeListener()},watch:{windowHeight:function(e){this.videoStyle.height=this.windowHeight/this.gridShow.column+"px"},windowWidth:function(e){}},methods:{toggleScreen:function(){this.fullScreen?this.outFullScreen():this.inFullScreen()},inFullScreen:function(){var e=this.$refs.videoDiv;return e.classList.add("beauty-scroll"),e.requestFullscreen?(e.requestFullscreen(),!0):e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),!0):e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):e.msRequestFullscreen?(e.msRequestFullscreen(),!0):(this.$message.warn("对不起，您的浏览器不支持全屏模式"),!1)},outFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.$refs.videoDiv.classList.remove("beauty-scroll")},addListener:function(){document.addEventListener("fullscreenchange",this.fullScreenListener),document.addEventListener("webkitfullscreenchange",this.fullScreenListener),document.addEventListener("mozfullscreenchange",this.fullScreenListener),document.addEventListener("msfullscreenchange",this.fullScreenListener)},removeListener:function(){document.removeEventListener("fullscreenchange",this.fullScreenListener),document.removeEventListener("webkitfullscreenchange",this.fullScreenListener),document.removeEventListener("mozfullscreenchange",this.fullScreenListener),document.removeEventListener("msfullscreenchange",this.fullScreenListener)},fullScreenListener:function(e){e.target.id===this.id&&(this.fullScreen=!this.fullScreen)},showSystemVideoModel:function(e){this.$refs.systemVideoModel.showModal(),this.selectIndex=e},chargeVideoShow:function(e){"single"==e.target.value?(this.gridShow.column=1,this.videoStyle.height=this.windowHeight/1+"px",this.getSystemVideoList(1)):"four"==e.target.value?(this.gridShow.column=2,this.videoStyle.height=this.windowHeight/2+"px",this.getSystemVideoList(4)):"nine"==e.target.value?(this.gridShow.column=3,this.getSystemVideoList(9),this.videoStyle.height=this.windowHeight/3+"px"):"sixth"==e.target.value&&(this.gridShow.column=4,this.videoStyle.height=this.windowHeight/4+"px",this.getSystemVideoList(16))},getSystemVideoList:function(e){this.videoPlayerList=[];for(var t={},i=0;i<e;i++)t.url="",t.Name="",t.status=0,this.videoPlayerList.push(t),t={}},onSelectVideo:function(e){1==e.type?this.videoPlayerList[this.selectIndex].url="webrtc://"+this.videoServer+"/webrtcstream/"+e.key:3==e.type?this.videoPlayerList[this.selectIndex].url=e.url:4==e.type?this.videoPlayerList[this.selectIndex].url="http://"+location.host+"/"+e.url:this.videoPlayerList[this.selectIndex].url=e.key,this.videoPlayerList[this.selectIndex].Name=e.name,this.visible=!1}}},c=(i("ead3"),i("2877")),a=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",{ref:"videoDiv",attrs:{id:e.id}},[t("a-layout",[e.fullScreen?e._e():t("a-card",[t("a-radio-group",{attrs:{"default-value":"horizontal"},on:{change:e.chargeVideoShow}},[t("a-radio-button",{attrs:{value:"single"}},[e._v(" "+e._s(e.$t("VideoManager.single"))+" ")]),t("a-radio-button",{attrs:{value:"four"}},[e._v(" "+e._s(e.$t("VideoManager.four"))+" ")]),t("a-radio-button",{attrs:{value:"nine"}},[e._v(" "+e._s(e.$t("VideoManager.nine"))+" ")]),t("a-radio-button",{attrs:{value:"sixth"}},[e._v(" "+e._s(e.$t("VideoManager.sixth"))+" ")]),t("a-radio-button",{attrs:{value:"full"},on:{click:e.toggleScreen}},[t("a-icon",{staticClass:"action",attrs:{type:e.fullScreen?"fullscreen-exit":"fullscreen"}}),e.fullScreen?t("span",[e._v(e._s(e.$t("VideoManager.ExitFull")))]):e._e(),e.fullScreen?e._e():t("span",[e._v(e._s(e.$t("VideoManager.full")))])],1)],1)],1),t("a-layout-content",{staticStyle:{margin:"0 0px"}},[t("a-card",{staticStyle:{padding:"0px"},attrs:{id:"viewCard"}},[t("a-list",{attrs:{grid:e.gridShow,"data-source":e.videoPlayerList},scopedSlots:e._u([{key:"renderItem",fn:function(i,n){return t("a-list-item",{},[t("a-card",{style:e.videoStyle},[t("LivePlayer",{attrs:{"custom-buttons":"对讲","video-url":i.url,"video-title":i.Name,alt:e.VideoTitle+e.$t("configComponent.video.VideoOfflineTips"),aspect:"fullscreen",fluent:"",autoplay:"",live:"",stretch:""}}),t("div",{staticClass:"video-close",staticStyle:{display:"none"}},[e._v("关闭")]),t("div",{staticClass:"video-close channel-selector",on:{click:function(t){return e.showSystemVideoModel(n)}}},[e._v("选择通道")])],1)],1)}}])})],1)],1),t("system-video-model",{ref:"systemVideoModel",attrs:{networkVideo:e.videoComponentData},on:{onSelectVideo:e.onSelectVideo}})],1)],1)}),[],!1,null,"028d9ba5",null)
/* harmony default export */;t.default=a.exports},
/***/ead3:
/***/function(e,t,i){"use strict";
/* harmony import */i("6931");
/* harmony import */}}]);